---
layout: post
title:  'Idea Code Update with Server'
date:   2023-11-10 14:42:06 +0800
categories: NY5667 update
---

# idea本地开发代码和服务器代码同步(拉取和上传)

此方案未采用cds狗平台提供的方案，他们的方案存在以下问题 



* 不支持文件夹多文件同步，文件一多就报错
* 同步服务容易挂，而且不知道如何重启 
* 部署同步服务麻烦 



此方案不存在以上缺点。

## 前提

 idea不是社区版，是旗舰版

部署cds狗平台的那台服务器需要安装ftp server 

## 步骤

tools ->deployment -> configuration打开配置远程ftp服务的对话框，新建一个ftp host。

![](https://cdn.jsdelivr.net/gh/NY5667/cdn/images/微信图片_20231110143545.png)



![](https://cdn.jsdelivr.net/gh/NY5667/cdn/images/微信图片_20231110143641.png)

mapping是配置你开发机器的代码的路径和cds狗平台上模块代码的路径。把他们对应起来就行。

![](https://cdn.jsdelivr.net/gh/NY5667/cdn/images/微信图片_20231110143646.png)

配置好之后点击OK



## 使用

使用很简单也很方便，右击单个文件或者目录，点击depolyment，可以选择从服务器上拉代码或者上传代码

![](https://cdn.jsdelivr.net/gh/NY5667/cdn/images/微信图片_20231110143650.png)



而且，还有个很好用的功能。例如你本次需求改动了N个文件，你在用git提交的时候，可以在commit之后将这几个提交到git的改动文件也上传到服务器上。免去了再上传的操作。方便快捷

![](https://cdn.jsdelivr.net/gh/NY5667/cdn/images/微信图片_20231110143653.png)



# 注意事项：

每次上传到服务器或者从服务器下载代码的时候，一定要注意以下几点：



* 如果你本地改了自定义代码，未上传服务器。而你在cds平台上加了视图，字段，数据模型等东西，服务器生成了cds的代码，此时pull代码可能会覆盖你本地自己写的代码。 （虽然idea会提示覆盖，但是也要注意） 
* 如果你在平台上改动了视图，字段，数据模型等东西。但是没有拉到本地，反而你本地改了自定义代码。然后整个项目都上传到服务器，此时会把服务器生成的代码也覆盖



最佳实践 ： 

* 本地一般只改动自定义代码，**上传服务器只上传改动的文件,不改动的文件不上传**

* **代码及时同步到git**   
